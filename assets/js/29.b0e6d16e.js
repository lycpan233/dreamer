(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{388:function(e,s,a){"use strict";a.r(s);var t=a(0),n=Object(t.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"text-为什么不支持默认值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#text-为什么不支持默认值"}},[e._v("#")]),e._v(" Text 为什么不支持默认值？？")]),e._v(" "),s("p",[e._v("在 Mysql 5.x 中， Text 类型不支持设置默认值。想要给默认值的话只能指定字段允许"),s("code",[e._v("null")]),e._v("，或者在业务中手动赋值。")]),e._v(" "),s("p",[e._v("本人对这个特性深感迷惑，所以就去查了一下官方文档，文档中也只有下面一段描述。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("BLOB and TEXT columns cannot have DEFAULT values.\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("更进一步的解释也没有，更让我愈发迷惑。")]),e._v(" "),s("p",[e._v("后续通过 Copilot 得到一下的答复:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("在 MySQL 中，BLOB 和 TEXT 类型的列不能有默认值，这主要是由于以下几个原因：\n\n1. 数据类型的特性：BLOB 和 TEXT 类型用于存储大块数据或复杂数据结构，这些数据通常是变长的，且大小不固定。为这些类型设置默认值在技术上比较复杂。\n\n2. 历史原因：在 MySQL 5.x 版本中，BLOB 和 TEXT 类型的列默认情况下不能有默认值。这是因为 MySQL 在严格模式下工作时，不允许这些类型的列设置默认值。\n\n3. 严格模式：MySQL 的严格模式（strict mode）会对数据的完整性和一致性进行严格检查。在这种模式下，BLOB 和 TEXT 类型的列不能有默认值，以避免潜在的数据完整性问题。\n\n4. MySQL 8.0.13 及以后：在 MySQL 8.0.13 及以后的版本中，虽然 BLOB 和 TEXT 类型的列仍然不能直接设置非 NULL 的默认值，但可以通过表达式来设置默认值，即使表达式的值是字面量。\n\n如果你需要为这些类型的列设置默认值，可以考虑在应用层面进行处理，或者使用其他数据类型。\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br")])]),s("p",[e._v("这些答复来源五花八门，不太具备正统性，有些理由看起来也有点怪怪的。后续我又在 stackoverflow 找到一个所谓的内部人员答复。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[17 Mar 2017 15:11] Ståle Deraas\n\nPosted by developer:\n\nThis is indeed a valid feature request, and at first glance it might seem trivial to add. But TEXT/BLOBS values are not stored directly in the record buffer used for reading/updating tables. So it is a bit more complex to assign default values for them.\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("h1",{attrs:{id:"相关文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关文档"}},[e._v("#")]),e._v(" 相关文档")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://dev.mysql.com/doc/refman/5.7/en/blob.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("bolb"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://stackoverflow.com/questions/3466872/why-cant-a-text-column-have-a-default-value-in-mysql",target:"_blank",rel:"noopener noreferrer"}},[e._v("why-cant-a-text-column-have-a-default-value-in-mysql"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://bugs.mysql.com/bug.php?id=21532",target:"_blank",rel:"noopener noreferrer"}},[e._v("bug - mysql"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);